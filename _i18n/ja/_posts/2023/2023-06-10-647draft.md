---
title: "2023-06-10のJS: "
author: "azu"
layout: post
date : 2023-06-10T13:14:15.300Z
category: JSer
tags:
- TypeScript
- Bun
- Chrome
- astro
- Rust

---

JSer.info #647

----

<h1 class="site-genre">ヘッドライン</h1>

----

## Announcing TypeScript 5.1 - TypeScript
[devblogs.microsoft.com/typescript/announcing-typescript-5-1/](https://devblogs.microsoft.com/typescript/announcing-typescript-5-1/ "Announcing TypeScript 5.1 - TypeScript")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">TypeScript</span> <span class="jser-tag">ReleaseNote</span></p>

TypeScript 5.1リリース。
`undefined`を`return`する関数の型の扱いを改善、getterとsetter間でそれぞれ異なる型を指定できるように、JSXの改善。
Node.js 14.17未満のサポート終了、`typeRoots`の上向きのパッケージ解決を無効化など


----

## Bun v0.6.6 | Bun Blog
[bun.sh/blog/bun-v0.6.6](https://bun.sh/blog/bun-v0.6.6 "Bun v0.6.6 | Bun Blog")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Bun</span> <span class="jser-tag">ReleaseNote</span></p>

Bun 0.6.6リリース。
`bun test`がGitHub Actions向けの出力をサポート、`bun test --only`/`bun test --todo`/`test.if()`/`describe.if()`の追加。
`test()`が`timeout`オプションをサポート、`expect()`にmatcherを追加。
Fetch Upload Streamingのサポートなど


----

## Chrome 115 beta - Chrome Developers
[developer.chrome.com/en/blog/chrome-115-beta/](https://developer.chrome.com/en/blog/chrome-115-beta/ "Chrome 115 beta - Chrome Developers")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Chrome</span> <span class="jser-tag">ReleaseNote</span></p>

Chrome 115 Betaリリース。
スクロールベースのアニメーションである`ScrollTimeline`と`ViewTimeline`の追加、`WebAssembly.Module()`のメインスレッドでのモジュールサイズの制限を8MBに緩和。
メインフレームのナビゲーションで自動的にHTTPSにアップデートし、HTTPへのフォールバックを行うように、Storage Partitioningをデフォルトで有効化など。
Origin TrialとしてCompute Pressure API、マジックコメントでのcompile hintsの追加、Storage Buckets APIの追加など。
`document.domain`への代入を非推奨化、Mutation Eventsを非推奨化など


----

## Astro 2.6: Middleware | Astro
[astro.build/blog/astro-260/](https://astro.build/blog/astro-260/ "Astro 2.6: Middleware | Astro")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">astro</span> <span class="jser-tag">ReleaseNote</span></p>

Astro 2.6リリース。
Middlewares/`output: "hybrid"`/Custom client directivesのStable化。
CSSをインライン化する`inlineStylesheets: "auto"`オプションの追加、実験的にリダイレクト機能の追加など


----

## Open sourcing Ezno&#039;s checker and trying out / previewing the JavaScript type checker today · kaleidawave/ezno · Discussion #21
[github.com/kaleidawave/ezno/discussions/21](https://github.com/kaleidawave/ezno/discussions/21 "Open sourcing Ezno&#039;s checker and trying out / previewing the JavaScript type checker today · kaleidawave/ezno · Discussion #21")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">TypeScript</span> <span class="jser-tag">Rust</span> <span class="jser-tag">ReleaseNote</span></p>

Rustで書かれたTypeScriptの型チェッカーであるEnzoがリリースされた。
まだサポートされていない構文なども多いがOxc CLIを通して利用できるようになった

- [Release CLI v0.1.0 Ezno Type Checker · Boshen/oxc](https://github.com/Boshen/oxc/releases/tag/v0.1.0 "Release CLI v0.1.0 Ezno Type Checker · Boshen/oxc")

----

## Release 7.0.0 · lerna/lerna
[github.com/lerna/lerna/releases/tag/7.0.0](https://github.com/lerna/lerna/releases/tag/7.0.0 "Release 7.0.0 · lerna/lerna")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">monorepo</span> <span class="jser-tag">ReleaseNote</span></p>

lerna 7.0.0リリース。
`lerna bootstrap`/`add`/`link`は削除された。デフォルトでworkspacesを使うようになり、`useWorkspaces`オプションの削除。
非推奨となっていたオプションの削除など

- [Legacy Package Management | Lerna](https://lerna.js.org/docs/legacy-package-management "Legacy Package Management | Lerna")

----

## Node v20.3.0 (Current) | Node.js
[nodejs.org/en/blog/release/v20.3.0](https://nodejs.org/en/blog/release/v20.3.0 "Node v20.3.0 (Current) | Node.js")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">node.js</span> <span class="jser-tag">ReleaseNote</span></p>

Node.js v20.3.0リリース。
libuv 1.45.0にアップデート、`AbortSignal.any()`の実装など


----
<h1 class="site-genre">アーティクル</h1>

----

## JavaScript Macros in Bun | Bun Blog
[bun.sh/blog/bun-macros](https://bun.sh/blog/bun-macros "JavaScript Macros in Bun | Bun Blog")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Bun</span> <span class="jser-tag">article</span></p>

Bun 0.6.0で実装されたbundlerを使ったbundle時のマクロ展開について。
`import ... with { type: 'micro' }`でマクロとして読み込み、bundle時にそのモジュールの評価結果を埋め込む機能。


----

## The origin private file system
[web.dev/origin-private-file-system/](https://web.dev/origin-private-file-system/ "The origin private file system")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">article</span></p>

Origin private file systemについて。
Originごとのルートディレクトリがあり、メインスレッドまたはWeb Workerから利用できる。
Web Workerからは同期APIも利用できる。


----

## HTML 全体の CSS を取得して Shadow DOM に適用する | marmooo&#039;s blog
[marmooo.blogspot.com/2023/06/html-css-shadow-dom.html](https://marmooo.blogspot.com/2023/06/html-css-shadow-dom.html "HTML 全体の CSS を取得して Shadow DOM に適用する | marmooo&#039;s blog")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">CSS</span> <span class="jser-tag">WebComponents</span> <span class="jser-tag">article</span></p>

`document.styleShets`からスタイルを集めて`replaceSync`でスタイルシートを作り、`shadowRoot.adoptedStyleSheets`でスタイルシートを当てる方法について。


----
