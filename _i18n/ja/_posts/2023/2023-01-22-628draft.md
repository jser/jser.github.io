---
title: "2023-01-22のJS: "
author: "azu"
layout: post
date : 2023-01-22T14:29:23.719Z
category: JSer
tags:
- performance
- Bun
- rlee
- Remix
- Next.js

---

JSer.info #628

----

<h1 class="site-genre">ヘッドライン</h1>

----

## Bun v0.5 | Bun Blog
[bun.sh/blog/bun-v0.5.0](https://bun.sh/blog/bun-v0.5.0 "Bun v0.5 | Bun Blog")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Bun</span> <span class="jser-tag">rlee</span></p>

Bun 0.5.0リリース。
`workspaces`のインストールをサポート。
Node.jsとの互換性として`node:dns`、`node:tls`、`node:net`、`node:readline`のサポート。
モジュール解決時の識別子の優先度を変更など


----

## Release v1.11.0 · remix-run/remix
[github.com/remix-run/remix/releases/tag/remix%401.11.0](https://github.com/remix-run/remix/releases/tag/remix%401.11.0 "Release v1.11.0 · remix-run/remix")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Remix</span> <span class="jser-tag">ReleaseNote</span></p>

Remix 1.11.0リリース。
`defer`を使ったレスポンス待ちを減らせるように、`@remix-run/css-bundle`でのCSSファイルのロード、CSS Modules、Vanilla Extractのサポート。
Flat Routesをopt-inで利用できるように

- [Flat Routes · Discussion #4482 · remix-run/remix](https://github.com/remix-run/remix/discussions/4482 "Flat Routes · Discussion #4482 · remix-run/remix")

----
<h1 class="site-genre">アーティクル</h1>

----

## Next.js製アプリケーションのコンパイルを約100倍高速化した話
[zenn.dev/mkt/articles/543669021d9a1e](https://zenn.dev/mkt/articles/543669021d9a1e "Next.js製アプリケーションのコンパイルを約100倍高速化した話")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Next.js</span> <span class="jser-tag">article</span> <span class="jser-tag">performance</span></p>

Next.jsのビルド速度の問題を`.next/trace`のトレースデータを見て分析する方法について

- [NextJs compiling extremely slow · Issue #29559 · vercel/next.js](https://github.com/vercel/next.js/issues/29559#issuecomment-938431883 "NextJs compiling extremely slow · Issue #29559 · vercel/next.js")

----

## Why Not document.write()? – CSS Wizardry – Web Performance Optimisation
[csswizardry.com/2023/01/why-not-document-write/](https://csswizardry.com/2023/01/why-not-document-write/ "Why Not document.write()? – CSS Wizardry – Web Performance Optimisation")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">article</span> <span class="jser-tag">performance</span></p>

`document.write()`がなぜ遅いかについて。


----

## Why Is My Jest Test Suite So Slow? | by Steven Lemon | Jan, 2023 | Bits and Pieces
[blog.bitsrc.io/why-is-my-jest-suite-so-slow-2a4859bb9ac0](https://blog.bitsrc.io/why-is-my-jest-suite-so-slow-2a4859bb9ac0 "Why Is My Jest Test Suite So Slow? | by Steven Lemon | Jan, 2023 | Bits and Pieces")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">testing</span> <span class="jser-tag">article</span> <span class="jser-tag">performance</span></p>

Jestのテストのパフォーマンスのボトルネックの調べ方について。
起動時間、`jsdom`のロード、キャッシュ、テストファイルのロード、実際のテストの実行時間について。
Node.jsのプロファイラーを使ってどこに問題があるかを調べる方法について


----

## Fixing a Memory Leak in a Production Node.js App
[kentcdodds.com/blog/fixing-a-memory-leak-in-a-production-node-js-app](https://kentcdodds.com/blog/fixing-a-memory-leak-in-a-production-node-js-app "Fixing a Memory Leak in a Production Node.js App")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">node.js</span> <span class="jser-tag">JavaScript</span> <span class="jser-tag">debug</span> <span class="jser-tag">article</span> <span class="jser-tag">video</span></p>

Node.jsのアプリケーションでメモリリークが発生し、実際にどのようにデバッグして問題を見つけていったかという記事。
動画では`shiki`が使う`vscode-oniguruma`のメモリ解放処理を呼んでいないことが原因だと判断し、Workerで処理するように変更した。
しかし、実際には`express-http-proxy`がリクエストURLを保持していて、Image CDNのURLが長いためメモリを圧迫していた。


----
