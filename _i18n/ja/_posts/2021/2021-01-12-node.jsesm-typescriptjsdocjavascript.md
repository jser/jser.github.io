---
title: "2021-01-12ã®JS: Node.jsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ESMå¯¾å¿œã®è¨ˆç”»ã€TypeScriptã¨JSDocã§JavaScriptã®å‹ãƒã‚§ãƒƒã‚¯"
author: "azu"
layout: post
date : 2021-01-12T02:03:31.254Z
category: JSer
tags:
- Tools
- TypeScript
- V8
- performance
- npm

---

JSer.info #522 - [@sindresorhus](https://github.com/sindresorhus)ã«ã‚ˆã‚‹Node.jsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ESM(ECMAScript Module)å¯¾å¿œã«ã¤ã„ã¦ã®discussionsãŒä½œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚
[@sindresorhus](https://github.com/sindresorhus)ã¯ã•ã¾ã–ã¾Node.jsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œæˆã—ã¦ã„ã‚‹ãŸã‚ã€Node.jsã®ESMå¯¾å¿œã«é–¢ä¿‚ã—ã¦ãã¾ã™ã€‚

- [The ESM move Â· Discussion #15 Â· sindresorhus/meta](https://github.com/sindresorhus/meta/discussions/15)

2021-04-30ã§Node.js 10ã®LTSãŒçµ‚äº†ã—ã€Node.js 12ä»¥ä¸Šã®ã¿ãŒå¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚
Node.js 12.xã«ã¯ECMAScript modules(`.mjs`ã‚„`"type": "module"`ãªã©)ã®å¯¾å¿œãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

- [nodejs/Release: Node.js Release Working Group](https://github.com/nodejs/Release)
- [Modules: ECMAScript modules | Node.js v15.5.1 Documentation](https://nodejs.org/api/esm.html)

Node.js 12ä»¥é™ã§ã¯ESMãŒãƒã‚¤ãƒ†ã‚£ãƒ–ã§æ‰±ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ãŸã‚ã€ãã‚Œã«å¯¾å¿œã™ã‚‹ã‚ˆã†ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç§»è¡Œã™ã‚‹è¨ˆç”»ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

Node.jsã®ESMå¯¾å¿œã¯ã¾ã é–‹ç™ºä¸­ã®éƒ¨åˆ†ã‚„å®Ÿéš›ã®ç§»è¡Œã®ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ãŒæ±ºã¾ã£ã¦ã„ãªã„ãŸã‚ã€
ã©ã®ã‚ˆã†ã«ç§»è¡Œã™ã‚‹ã‹ã®å‚è€ƒã«ãªã‚‹æƒ…å ±ãŒé›†ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

[@sindresorhus](https://github.com/sindresorhus)ã«ã‚ˆã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯åŸºæœ¬çš„ã«Node.jså‘ã‘ã«ä½œã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚‰ã®å¯¾å¿œãŒé€²ã‚€ã¨Node.jsãŒãƒã‚¤ãƒ†ã‚£ãƒ–ã«ESMã‚’æ‰±ãˆã‚‹ç¯„å›²ãŒåºƒãŒã‚Šãã†ã§ã™ã€‚

- [Webpack 5 Headache. Webpack no longer automaticallyâ€¦ | by Sindre Sorhus | ğŸ¦„ Sindre Sorhusâ€™ blog](https://blog.sindresorhus.com/webpack-5-headache-b6ac24973bf1)

---

[Check your JS with TS](https://whistlr.info/2021/check-js-with-ts/)ã¨ã„ã†è¨˜äº‹ã§ã¯ã€TypeScriptã¨JSDocã‚’ä½¿ã£ã¦JavaScriptã®å‹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†æ–¹æ³•ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

JSDocã§ã®å‹ã®æ›¸ãæ–¹ã€`tsc`ã‚„VSCodeã‚’ä½¿ã£ãŸJSDocã®å‹ãƒã‚§ãƒƒã‚¯ã€JavaScriptã‹ã‚‰`.d.ts`ã®å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ãªã©æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

----

<h1 class="site-genre">ãƒ˜ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³</h1>

----

## Release v7.4.0 Â· npm/cli
[github.com/npm/cli/releases/tag/v7.4.0](https://github.com/npm/cli/releases/tag/v7.4.0 "Release v7.4.0 Â· npm/cli")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">npm</span> <span class="jser-tag">ReleaseNote</span></p>

npm 7.4.0ãƒªãƒªãƒ¼ã‚¹ã€‚
`--foreground-scripts`ã®è¿½åŠ ã€`npm publish --dry-run`ã®ä¿®æ­£ãªã©


----

## js-yaml/CHANGELOG.md at master Â· nodeca/js-yaml
[github.com/nodeca/js-yaml/blob/master/CHANGELOG.md#400---2021-01-03](https://github.com/nodeca/js-yaml/blob/master/CHANGELOG.md#400---2021-01-03 "js-yaml/CHANGELOG.md at master Â· nodeca/js-yaml")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">library</span> <span class="jser-tag">ReleaseNote</span></p>

js-yaml 4.0.0ãƒªãƒªãƒ¼ã‚¹ã€‚
`safe{Load,LoadAll,Dump}`ãªã©ã‚’`load`/`loadAll`/`dump`ã«ãƒªãƒãƒ¼ãƒ ã—safeãƒ¡ã‚½ãƒƒãƒ‰ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«å¤‰æ›´ã€‚
unsafeãªæŒ™å‹•ã¯å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®`js-yaml-js-types`ã«ç§»å‹•ã€numberã®ãƒ‘ãƒ¼ã‚¹ã‚’YAML 1.2æº–æ‹ ã«å¤‰æ›´ã€`dump`ã®å‡ºåŠ›ã‚’ä¸€éƒ¨å¤‰æ›´ãªã©ã€‚
ãã®ä»–ã«ã¯`.mjs`ã®ã‚µãƒãƒ¼ãƒˆã€prototype pollutionã«é–¢ã™ã‚‹æŒ™å‹•ã®ä¿®æ­£ãªã©

- [js-yaml/migrate\_v3\_to\_v4.md at master Â· nodeca/js-yaml](https://github.com/nodeca/js-yaml/blob/master/migrate_v3_to_v4.md "js-yaml/migrate\_v3\_to\_v4.md at master Â· nodeca/js-yaml")
- [nodeca/js-yaml-js-types: Extra js types for js-yaml](https://github.com/nodeca/js-yaml-js-types "nodeca/js-yaml-js-types: Extra js types for js-yaml")

----

## The ESM move Â· Discussion #15 Â· sindresorhus/meta
[github.com/sindresorhus/meta/discussions/15](https://github.com/sindresorhus/meta/discussions/15 "The ESM move Â· Discussion #15 Â· sindresorhus/meta")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">node.js</span> <span class="jser-tag">library</span> <span class="jser-tag">issue</span></p>

sindresorhusãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®`"type":"module"`ã«ã‚ˆã‚‹ESMã®ãƒã‚¤ãƒ†ã‚£ãƒ–å¯¾å¿œã®è¨ˆç”»ã«ã¤ã„ã¦ã®Issue


----
<h1 class="site-genre">ã‚¢ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«</h1>

----

## phodal/clean-frontend: Clean Frontend Architectureï¼šæ•´æ´å‰ç«¯æ¶æ„
[github.com/phodal/clean-frontend](https://github.com/phodal/clean-frontend "phodal/clean-frontend: Clean Frontend Architectureï¼šæ•´æ´å‰ç«¯æ¶æ„")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">architecture</span> <span class="jser-tag">article</span> <span class="jser-tag">Chinese</span></p>

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¤ã„ã¦ã€‚
UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ãŠã‘ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã®åã‚Šã€ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ¦‚å¿µçš„ãªè§£èª¬ã‚„å®Ÿè£…ã‚¬ã‚¤ãƒ‰


----

## crossorigin å±æ€§ã®ä»•æ§˜ã‚’èª­ã¿è§£ã
[nhiroki.jp/2021/01/07/crossorigin-attribute](https://nhiroki.jp/2021/01/07/crossorigin-attribute "crossorigin å±æ€§ã®ä»•æ§˜ã‚’èª­ã¿è§£ã")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">HTML</span> <span class="jser-tag">WHATWG</span> <span class="jser-tag">JavaScript</span> <span class="jser-tag">spec</span> <span class="jser-tag">article</span></p>

CORSã«é–¢ã™ã‚‹request modeã¨credentials modeã®æŒ¯ã‚‹èˆã„ã‚’æŒ‡å®šã™ã‚‹`crossorigin`å±æ€§ã«ã¤ã„ã¦ã€‚
`<img>`, `<script>`, `<link rel=preconnect>`ã«ãŠã‘ã‚‹`crossorigin`å±æ€§ã®æŒ‡å®šã«ã‚ˆã‚‹æŒ¯ã‚‹èˆã„ã®è§£èª¬ã€‚
Fetch APIã§ã®è¡¨ç¾æ–¹æ³•ã«ã¤ã„ã¦ã€‚


----

## Check your JS with TS
[whistlr.info/2021/check-js-with-ts/](https://whistlr.info/2021/check-js-with-ts/ "Check your JS with TS")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">TypeScript</span> <span class="jser-tag">article</span></p>

JSDocã¨TypeScriptã‚’ä½¿ã£ã¦ã€JavaScriptã®ã‚³ãƒ¼ãƒ‰ã‚’å‹ãƒã‚§ãƒƒã‚¯ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã€‚
tsconfig.jsonã®è¨­å®šã€JSDocã§ã®å‹å®šç¾©ã€JavaScriptã‹ã‚‰`.d.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’importã—ã¦å‹å®šç¾©ã‚’JSDocã«åˆ©ç”¨ã™ã‚‹æ–¹æ³•ãªã©


----

## Slowfil.es â€“ Demonstate and observe slow-loading resources
[slowfil.es/](https://slowfil.es/ "Slowfil.es â€“ Demonstate and observe slow-loading resources")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">webservice</span> <span class="jser-tag">HTTP</span> <span class="jser-tag">performance</span> <span class="jser-tag">Tools</span></p>

ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚’å†ç¾ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®é…ä¿¡ã‚’ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã€‚
scriptè¦ç´ ã®`async`å±æ€§ã‚„`defer`å±æ€§ã®å‹•ä½œã®ãƒ†ã‚¹ãƒˆãªã©ãƒªã‚½ãƒ¼ã‚¹ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã«é–¢ã™ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã«åˆ©ç”¨ã§ãã‚‹ã€‚

- [slowfil.es â€“ a service for slow assets with high priority | Stefan Judis Web Development](https://www.stefanjudis.com/notes/slowfil-es-a-service-for-slow-assets-with-high-priority/ "slowfil.es â€“ a service for slow assets with high priority | Stefan Judis Web Development")
- [Oh The Scripts We'll Load - A Performance Talk by Tim Kadlec - YouTube](https://www.youtube.com/watch?v=tr6aHw8I32M "Oh The Scripts We&#x27;ll Load - A Performance Talk by Tim Kadlec - YouTube")

----

## An additional non-backtracking RegExp engine Â· V8
[v8.dev/blog/non-backtracking-regexp](https://v8.dev/blog/non-backtracking-regexp "An additional non-backtracking RegExp engine Â· V8")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">V8</span> <span class="jser-tag">RegExp</span> <span class="jser-tag">article</span></p>

V8ã«ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯ã‚’ã—ãªã„æ­£è¦è¡¨ç¾ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ãƒ•ãƒ©ã‚°ä»˜ãã§å®Ÿè£…ã—ãŸã¨ã„ã†è©±ã€‚
ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯ã«ã‚ˆã£ã¦ReDoSã®ã‚ˆã†ãªæŒ‡æ•°é–¢æ•°çš„ã«ãƒãƒƒãƒã™ã‚‹å•é¡ŒãŒçŸ¥ã‚‰ã‚Œã¦ã„ã¦ã€ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯ã‚’ä½¿ã‚ãªã„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…ã‚’ã—ãŸã¨ã„ã†è©±


----
<h1 class="site-genre">ã‚µã‚¤ãƒˆã€ã‚µãƒ¼ãƒ“ã‚¹ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</h1>

----

## byte-js/byte: A easy JavaScript Runtime Engine that aims towards productivity
[github.com/byte-js/byte](https://github.com/byte-js/byte "byte-js/byte: A easy JavaScript Runtime Engine that aims towards productivity")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Rust</span> <span class="jser-tag">V8</span> <span class="jser-tag">console</span> <span class="jser-tag">Tools</span></p>

ç°¡å˜ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚Œã‚‹ã“ã¨ã‚’ç›®çš„ã«ã—ãŸV8ã¨Rustã‚’ä½¿ã£ãŸJavaScriptã®Runtime

- [denoland/rusty\_v8: V8 javascript bindings for Rust](https://github.com/denoland/rusty_v8 "denoland/rusty\_v8: V8 javascript bindings for Rust")

----

## Nx: Extensible Dev Tools for Monorepos
[nx.dev/](https://nx.dev/ "Nx: Extensible Dev Tools for Monorepos")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">monorepo</span> <span class="jser-tag">Tools</span> <span class="jser-tag">JavaScript</span></p>

JavaScriptã®monorepoãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ‰±ã†é–‹ç™ºãƒ„ãƒ¼ãƒ«ã€‚
ç›®çš„ã«åˆã‚ã›ãŸmonorepoã®ä½œæˆã€task runnerã®ç®¡ç†ã€VSCodeæ‹¡å¼µã‚’ä½¿ã£ãŸUIã‚’ã‚‚ã¤ã€‚
ä¾å­˜ã‚°ãƒ©ãƒ•ã‚’ä½¿ã£ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ãƒ“ãƒ«ãƒ‰ã€Nx Cloudã‚’ä½¿ã£ãŸãƒªãƒ¢ãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©ã‚’è¡Œã†


----

## Checka11y.css - CSS stylesheet to quickly highlight a11y concerns
[checka11y.jackdomleo.dev/](https://checka11y.jackdomleo.dev/ "Checka11y.css - CSS stylesheet to quickly highlight a11y concerns")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">accessibility</span> <span class="jser-tag">CSS</span></p>

CSSã§HTMLã®ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã€‚
é¡ä¼¼ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦https://ffoodd.github.io/a11y.css/ ãŒã‚ã‚‹ã€‚


----

## cloudfour/lighthouse-parade: A Node.js command line tool that crawls a domain and gathers lighthouse performance data for every page.
[github.com/cloudfour/lighthouse-parade](https://github.com/cloudfour/lighthouse-parade "cloudfour/lighthouse-parade: A Node.js command line tool that crawls a domain and gathers lighthouse performance data for every page.")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Chrome</span> <span class="jser-tag">performance</span> <span class="jser-tag">Tools</span></p>

Lighthouseã§ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã—ãŸçµæœã‚’CSVã¨ã—ã¦ã¾ã¨ã‚ã‚‹ãƒ„ãƒ¼ãƒ«ã€‚
è¤‡æ•°ã®ãƒšãƒ¼ã‚¸ã®çµæœã‚’Spreadsheetãªã©ã«é›†ã‚ã¦åˆ†æã™ã‚‹ç›®çš„


----
<h1 class="site-genre">ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã€ãƒ„ãƒ¼ãƒ«ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–¢ä¿‚</h1>

----

## menduz/typed-url-params: TypeSystem based parser for url parameters
[github.com/menduz/typed-url-params](https://github.com/menduz/typed-url-params "menduz/typed-url-params: TypeSystem based parser for url parameters")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">TypeScript</span> <span class="jser-tag">library</span></p>

path-to-regexpã®ã‚ˆã†ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ–‡å­—åˆ—ã«å¯¾ã™ã‚‹å‹æ¨è«–ã‚’Template Literarl Typeã§è¡Œã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª


----

## mistlog/react-peg: A react style parser generator based on PEG.js
[github.com/mistlog/react-peg](https://github.com/mistlog/react-peg "mistlog/react-peg: A react style parser generator based on PEG.js")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">TypeScript</span> <span class="jser-tag">jsx</span> <span class="jser-tag">library</span></p>

PEG.jsã®æ§‹æ–‡å®šç¾©ã‚’JSXã§æ›¸ã‘ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚
TypeScriptã®TSXã‚’ä½¿ã†ã“ã¨ã§ã€æ§‹æ–‡ã«å¯¾ã™ã‚‹å‹ãƒã‚§ãƒƒã‚¯ã‚’ã—ãªãŒã‚‰ã€æ§‹æ–‡å®šç¾©ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ãŒç›®çš„ã€‚


----
