---
title: "2021-08-16のJS: "
author: "azu"
layout: post
date : 2021-08-16T04:25:12.599Z
category: JSer
tags:
- node.js
- security
- Firefox
- Next.js
- rails

---

JSer.info #553

----

<h1 class="site-genre">ヘッドライン</h1>

----

## August 2021 Security Releases | Node.js
[nodejs.org/en/blog/vulnerability/aug-2021-security-releases/](https://nodejs.org/en/blog/vulnerability/aug-2021-security-releases/ "August 2021 Security Releases | Node.js")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">node.js</span> <span class="jser-tag">security</span> <span class="jser-tag">ReleaseNote</span></p>

Node.jsのセキュリティアップデート。
それぞれ対応するNode v12.22.5 (LTS)、 Node v14.17.5 (LTS)、Node v16.6.2がリリースされている。
DNSライブラリc-aresのセキュリティ修正、`http2`のstreamを閉じた際のUse after freeの修正。
`rejectUnauthorized`に`undefined`を渡すと期限切れの証明書を受け付けていた問題の修正など


----

## Hopping on Firefox 91 - Mozilla Hacks - the Web developer blog
[hacks.mozilla.org/2021/08/hopping-on-firefox-91/](https://hacks.mozilla.org/2021/08/hopping-on-firefox-91/ "Hopping on Firefox 91 - Mozilla Hacks - the Web developer blog")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Firefox</span> <span class="jser-tag">ReleaseNote</span></p>

Firefox 91リリース。
Visual Viewport API、Intl.DateTimeFormatの改善、Error Causeのサポートなど。
またGamepad APIがSecure Contextでのみ動作するようになる変更など

- [Firefox 91.0, See All New Features, Updates and Fixes](https://www.mozilla.org/en-US/firefox/91.0/releasenotes/ "Firefox 91.0, See All New Features, Updates and Fixes")
- [Firefox 91 for developers - Mozilla | MDN](https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/91 "Firefox 91 for developers - Mozilla | MDN")

----

## Blog - Next.js 11.1 | Next.js
[nextjs.org/blog/next-11-1](https://nextjs.org/blog/next-11-1 "Blog - Next.js 11.1 | Next.js")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Next.js</span> <span class="jser-tag">ReleaseNote</span></p>

Next.js 11.1リリース。
オープンリダイレクタの脆弱性の修正、experimentalでNode.jsのESMをサポート、Rust製のJS/TSコンパイラのSWCを利用できるようになるなど。
`node-fetch`のkeepAliveをデフォルトで有効化、Source Map/ESLint/`next/image`の改善など


----

## Announcing TypeScript 4.4 RC | TypeScript
[devblogs.microsoft.com/typescript/announcing-typescript-4-4-rc/](https://devblogs.microsoft.com/typescript/announcing-typescript-4-4-rc/ "Announcing TypeScript 4.4 RC | TypeScript")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">TypeScript</span> <span class="jser-tag">ReleaseNote</span></p>

TypeScript 4.4 RCリリース。
Control Flow Analysisの改善、Index SignaturesにSymbolやTemplate Stringを利用できるように。
Catch節のデフォルトを`unknown`型にする`useUnknownInCatchVariables`オプションの追加。
optionalと`undefined`値の区別をする`exactOptionalPropertyTypes`オプションの追加。
また、ES Proposal Stage 3のclass static blockをサポート。
declarationの生成や`strict`モードでのビルドパフォーマンスの改善も含まれている


----

## Release v6.0.0 · vueuse/vueuse
[github.com/vueuse/vueuse/releases/tag/v6.0.0](https://github.com/vueuse/vueuse/releases/tag/v6.0.0 "Release v6.0.0 · vueuse/vueuse")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Vue</span> <span class="jser-tag">ReleaseNote</span> <span class="jser-tag">library</span></p>

vueuse 6.0.0リリース。
Vue 3.2の`effectScope` APIに対応、`createSharedComposable`/`toReactive`/`useEventBus`の追加。
`useStorage`にonErrorコールバックの追加など


----
<h1 class="site-genre">アーティクル</h1>

----

## Modern web apps without JavaScript bundling or transpiling
[world.hey.com/dhh/modern-web-apps-without-javascript-bundling-or-transpiling-a20f2755](https://world.hey.com/dhh/modern-web-apps-without-javascript-bundling-or-transpiling-a20f2755 "Modern web apps without JavaScript bundling or transpiling")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">rails</span> <span class="jser-tag">JavaScript</span> <span class="jser-tag">article</span></p>

Rails 7.0でwebpacker(webpack)ではなくimport-mapベースのbundlerを使わないアプローチをデフォルトにすることを検討しているという話。

- [rails/importmap-rails: Use ESM with importmap to manage modern JavaScript in Rails without transpiling or bundling.](https://github.com/rails/importmap-rails/ "rails/importmap-rails: Use ESM with importmap to manage modern JavaScript in Rails without transpiling or bundling.")
- [Replace webpack with importmapped Hotwire as default js by dhh · Pull Request #42999 · rails/rails](https://github.com/rails/rails/pull/42999 "Replace webpack with importmapped Hotwire as default js by dhh · Pull Request #42999 · rails/rails")

----

## JavaScript Development: Making a Web Worker optional | by Tobias Uhlig | Aug, 2021 | ITNEXT
[itnext.io/javascript-development-making-a-web-worker-optional-f23a13490b28](https://itnext.io/javascript-development-making-a-web-worker-optional-f23a13490b28 "JavaScript Development: Making a Web Worker optional | by Tobias Uhlig | Aug, 2021 | ITNEXT")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">webworker</span> <span class="jser-tag">article</span></p>

重たいロジックを別のWeb Workerで分けることには意味があるが、スレッドがほとんどアイドル状態の場合にWorkerを分けるとpostMessage分の遅延が発生してしまう。
Workerとして分けて実行していた処理を、同じAPIを維持しつつ同じスレッドで実行するように処理を変更するアプローチについて。
neo.mjs 2.3.4ではどのように対応したかについて。

- [neomjs/neo: The application worker driven frontend framework](https://github.com/neomjs/neo "neomjs/neo: The application worker driven frontend framework")

----
<h1 class="site-genre">ソフトウェア、ツール、ライブラリ関係</h1>

----

## craigmichaelmartin/pure-orm: A Node.js SQL toolkit for writing native SQL queries yielding pure business objects
[github.com/craigmichaelmartin/pure-orm](https://github.com/craigmichaelmartin/pure-orm "craigmichaelmartin/pure-orm: A Node.js SQL toolkit for writing native SQL queries yielding pure business objects")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">DB</span> <span class="jser-tag">node.js</span> <span class="jser-tag">library</span></p>

ORMライブラリ。
Business Object(BO)とData Access Object(DAO)を使ってDBとのデータをやり取りする。
DAOはクエリビルダーではなく、生に近いSQL構文を利用する


----

## microlinkhq/keyv: Simple key-value storage with support for multiple backends.
[github.com/microlinkhq/keyv](https://github.com/microlinkhq/keyv "microlinkhq/keyv: Simple key-value storage with support for multiple backends.")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">node.js</span> <span class="jser-tag">library</span></p>

redis/mongo/SQLite/MySQL/PostgreSQLなどの各種バックエンドに対応したKVSライブラリ。


----
