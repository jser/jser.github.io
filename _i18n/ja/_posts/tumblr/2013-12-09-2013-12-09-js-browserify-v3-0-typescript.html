---
layout: post
title: '2013-12-09のJS: browserify v3.0、TypeScript 0.9.5、power-doctest'
date: '2013-12-09T23:59:58+09:00'
tags:
- node.js
- TypeScript
- testing
permalink: /post/69487144209/2013-12-09-js-browserify-v3-0-typescript
---
<p>JSer.info #152 - node.js向けのスタイルで書かれたものをブラウザで動くように変換してくれるツールである<a title="browserify v3.0 changelog" href="http://substack.net/browserify_v3_0_changelog" target="_blank">browserify v3.0</a>がリリースされました。<br/>3.0では<a title="browser-builtins" href="https://npmjs.org/package/browser-builtins" target="_blank">browser-builtins</a>への依存がなくなり、それぞれ個別のshimを使うようになってます。</p>
<p>node.js向けに書かれたものをブラウザで動くようにパッケージするという感じのイメージが強いですが、<br/>最近では<a title="chrisdickinson/beefy" href="https://github.com/chrisdickinson/beefy" target="_blank">beefy</a>のようなものもでてきて、<a title="browserify" href="http://browserify.org/" target="_blank">browserify</a>を使って継続的にクライアントサイドを開発するというスタイルもみかけるような気がします。<br/><a href="http://browserify.org/articles" target="_blank">browserify関係の記事は公式にまとまってる</a>ので、この機会に触ってみるといいかもしれません。</p>
<hr><p><a title="Announcing TypeScript 0.9.5 - TypeScript - Site Home - MSDN Blogs" href="http://blogs.msdn.com/b/typescript/archive/2013/12/05/announcing-typescript-0-9-5.aspx" target="_blank">TypeScript 0.9.5</a> がリリースされました。<br/><a title="TypeScript and the Road to 1.0 - TypeScript - Site Home - MSDN Blogs" href="http://blogs.msdn.com/b/typescript/archive/2013/10/17/typescript-and-the-road-to-1-0.aspx" target="_blank">TypeScript and the Road to 1.0 - TypeScript - Site Home - MSDN Blogs</a>で書かれているようにパフォーマンスの向上等がメインのようです。</p>
<hr><p><a title="azu/power-doctest" href="https://github.com/azu/power-doctest" target="_blank">power-doctest</a> はdoctest風に</p>
<pre><code>評価したい式; // =&gt; 期待する評価結果</code></pre>
<p>と書くとそれを<a title="twada/power-assert" href="https://github.com/twada/power-assert" target="_blank">power-assert</a>を使ってテストとして実行できるツールです。</p>
<p><img src="http://gyazo.com/075b4afe13003bd8691a85b371f84afe.gif" alt="power-doctest" width="" height="" border="0"/></p>
<p>写経等、コードを確かめながら書いていく時に使うと便利な感じです。</p>
<ul><li><a title="JavaScriptでdoctestを行う power-doctest を作った | Web scratch" href="http://efcl.info/2013/1201/res3494/" target="_blank">JavaScriptでdoctestを行う power-doctest を作った | Web scratch</a></li>
<li><a title="オブジェクト同士の比較と例外のテストをサポートしたpower-doctest 0.2.0リリース | Web scratch" href="http://efcl.info/2013/1208/res3526/" target="_blank">オブジェクト同士の比較と例外のテストをサポートしたpower-doctest 0.2.0リリース | Web scratch</a></li>
</ul><hr><div class="jser-output">
<div class="site-genre"><strong>ヘッドライン</strong></div>
<blockquote title="browserify v3.0 changelog" cite="http://substack.net/browserify_v3_0_changelog">
<p class="jser-sitelink"><strong>browserify v3.0 changelog</strong><br/><a title="browserify v3.0 changelog" href="http://substack.net/browserify_v3_0_changelog" target="_blank">http://substack.net/browserify_v3_0_changelog</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">node.js</span> <span class="jser-tag">JavaScript</span> <span class="jser-tag">Tools</span></p>
<p>browserify v3.0リリース。</p>
<ul><li><a title="browserify を使い始めるためのファーストステップ 2013 冬 :: kumatch's blogspot" href="http://kumatchs.blogspot.jp/2013/12/browserify-2013.html" target="_blank">browserify を使い始めるためのファーストステップ 2013 冬 :: kumatch&#8217;s blogspot</a></li>
</ul><blockquote title="Announcing TypeScript 0.9.5 - TypeScript - Site Home - MSDN Blogs" cite="http://blogs.msdn.com/b/typescript/archive/2013/12/05/announcing-typescript-0-9-5.aspx">
<p class="jser-sitelink"><strong>Announcing TypeScript 0.9.5 - TypeScript - Site Home - MSDN Blogs</strong><br/><a title="Announcing TypeScript 0.9.5 - TypeScript - Site Home - MSDN Blogs" href="http://blogs.msdn.com/b/typescript/archive/2013/12/05/announcing-typescript-0-9-5.aspx" target="_blank">http://blogs.msdn.com/b/typescript/archive/2013/12/05/announcing-typescript-0-9-5.aspx</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">TypeScript</span> <span class="jser-tag">ReleaseNote</span></p>
<p>TypeScript 0.9.5リリース。<br/>ビルドパフォーマンスの改善(50%ぐらい短くなった)、_references.tsというjs生成についての設定ファイルの追加</p>
<blockquote title="Release v0.2.2: 0.2.2 · twada/power-assert" cite="https://github.com/twada/power-assert/releases/tag/v0.2.2">
<p class="jser-sitelink"><strong>Release v0.2.2: 0.2.2 · twada/power-assert</strong><br/><a title="Release v0.2.2: 0.2.2 · twada/power-assert" href="https://github.com/twada/power-assert/releases/tag/v0.2.2" target="_blank">https://github.com/twada/power-assert/releases/tag/v0.2.2</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">testing</span> <span class="jser-tag">library</span> <span class="jser-tag">Tools</span> <span class="jser-tag">ReleaseNote</span></p>
<p>power-assert v0.2.2リリース.<br/>assert.deepEqual等の<a href="https://twitter.com/t_wada/status/408402467546624000" target="_blank">assertion</a>のサポート、bower サポート<br/><a href="https://twitter.com/t_wada/status/409108531824951296" target="_blank">power-assert を使う際に grunt 等でコード生成せずに実行時にその場で AST 変換</a>する<a title="twada/espower-loader" href="https://github.com/twada/espower-loader" target="_blank">espower-loader</a>の追加</p>
<blockquote class="twitter-tweet" lang="en">
<p>JavaScript 版 Power Assert ライブラリ power-assert 0.2.0 をリリースしました。このバージョンから 2 引数系のアサーションも power-assert 化の対象にできるようになりました。 <a href="https://t.co/U6LzWtwBsV" target="_blank">https://t.co/U6LzWtwBsV</a></p>
— Takuto Wada (@t_wada) <a href="https://twitter.com/t_wada/statuses/408402467546624000" target="_blank">December 5, 2013</a></blockquote>
<script type="mce-text/javascript" src="//platform.twitter.com/widgets.js"></script><div class="site-genre"><strong>アーティクル</strong></div>
<blockquote title="task automation with npm run" cite="http://substack.net/task_automation_with_npm_run">
<p class="jser-sitelink"><strong>task automation with npm run</strong><br/><a title="task automation with npm run" href="http://substack.net/task_automation_with_npm_run" target="_blank">http://substack.net/task_automation_with_npm_run</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">node.js</span> <span class="jser-tag">Tools</span></p>
<p>npm runを使ったタスクの自動化について</p>
<p><a title="Warming Up To Grunt: Compiling Less and Browserify" href="http://procbits.com/2013/12/05/warming-up-to-grunt-compiling-less-and-browserify#comment-1152595565" target="_blank">Warming Up To Grunt: Compiling Less and Browserify</a> のコメント欄 と<a title="using `npm run` to build and watch with less and browserify" href="https://gist.github.com/substack/7819530" target="_blank">using `npm run` to build and watch with less and browserify</a>も読むといいです。<br/>Gruntは大体タスクが揃ってるので何でもできるけどやり過ぎは大変という話に通じる。 </p>
<blockquote title="JavaScriptでdoctestを行う power-doctest を作った | Web scratch" cite="http://efcl.info/2013/1201/res3494/">
<p class="jser-sitelink"><strong>JavaScriptでdoctestを行う power-doctest を作った | Web scratch</strong><br/><a title="JavaScriptでdoctestを行う power-doctest を作った | Web scratch" href="http://efcl.info/2013/1201/res3494/" target="_blank">http://efcl.info/2013/1201/res3494/</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">AST</span> <span class="jser-tag">testing</span> <span class="jser-tag">document</span></p>
<p>doctest的にコメントで書いた結果を比較しテストをするツール.</p>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">ary</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
<span class="nx">ary</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">"-"</span><span class="p">);</span> <span class="c1">// =&gt; "1-2-3"</span>
</pre>
</div>
<p>という感じで書くと、assert(ary.join(&#8220;-&#8220;) ===  &#8221;1-2-3&#8221;) のような<a title="twada/power-assert" href="https://github.com/twada/power-assert" target="_blank">power-assert</a>を使ったテストを動かせるツール</p>
<blockquote title="ブラウザ音響プログラミング言語 CoffeeCollider v0.1.0 リリース - 音の鳴るブログ" cite="http://mohayonao.hatenablog.com/entry/2013/12/06/103028">
<p class="jser-sitelink"><strong>ブラウザ音響プログラミング言語 CoffeeCollider v0.1.0 リリース - 音の鳴るブログ</strong><br/><a title="ブラウザ音響プログラミング言語 CoffeeCollider v0.1.0 リリース - 音の鳴るブログ" href="http://mohayonao.hatenablog.com/entry/2013/12/06/103028" target="_blank">http://mohayonao.hatenablog.com/entry/2013/12/06/103028</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">CoffeeScript</span> <span class="jser-tag">music</span> <span class="jser-tag">sound</span></p>
<p>processing.jsの音楽版のような感じで、CoffeeScriptを拡張して作られてる音響プログラミング言語</p>
<blockquote title="Testing in Browsers and Node with Mocha, Chai, Sinon, and Testem · Ken Powers" cite="http://www.kenpowers.net/blog/testing-in-browsers-and-node/">
<p class="jser-sitelink"><strong>Testing in Browsers and Node with Mocha, Chai, Sinon, and Testem · Ken Powers</strong><br/><a title="Testing in Browsers and Node with Mocha, Chai, Sinon, and Testem · Ken Powers" href="http://www.kenpowers.net/blog/testing-in-browsers-and-node/" target="_blank">http://www.kenpowers.net/blog/testing-in-browsers-and-node/</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">node.js</span> <span class="jser-tag">browser</span> <span class="jser-tag">testing</span></p>
<p>Mocha + Chai + Sinon.js + Testemを使ったテスト構成について.<br/>Sinonのmockやstubの紹介やブラウザとNodeのハイブリッドテストについて書かれてる</p>
<blockquote title="Fun with Esprima and Static Analysis" cite="http://tobyho.com/2013/12/02/fun-with-esprima/">
<p class="jser-sitelink"><strong>Fun with Esprima and Static Analysis</strong><br/><a title="Fun with Esprima and Static Analysis" href="http://tobyho.com/2013/12/02/fun-with-esprima/" target="_blank">http://tobyho.com/2013/12/02/fun-with-esprima/</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">AST</span></p>
<p>JavaScript ASTのTraversalのチュートリアル的な感じ。 <br/>ファイルを読み込んでパースしてestraverseでASTを見ていきながらASTについて学ぶ。<br/>関数スコープ、変数宣言、グローバル変数の漏れ、スコープチェイン等について</p>
<blockquote title="Creating and maintaining your own Bower package" cite="http://bob.yexley.net/creating-and-maintaining-your-own-bower-package/">
<p class="jser-sitelink"><strong>Creating and maintaining your own Bower package</strong><br/><a title="Creating and maintaining your own Bower package" href="http://bob.yexley.net/creating-and-maintaining-your-own-bower-package/" target="_blank">http://bob.yexley.net/creating-and-maintaining-your-own-bower-package/</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span></p>
<p>Bowerを使ったパッケージの公開と継続してリリースするのにGrunt Bumpを使った方法について</p>
<blockquote title="3分で分かるAngularJSセキュリティ - teppeis blog" cite="http://teppeis.hatenablog.com/entry/2013/12/angularjs-security">
<p class="jser-sitelink"><strong>3分で分かるAngularJSセキュリティ - teppeis blog</strong><br/><a title="3分で分かるAngularJSセキュリティ - teppeis blog" href="http://teppeis.hatenablog.com/entry/2013/12/angularjs-security" target="_blank">http://teppeis.hatenablog.com/entry/2013/12/angularjs-security</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">AngularJS</span> <span class="jser-tag">セキュリティ</span></p>
<p>AngularJSのセキュリティについて.<br/>CSRF、JSONハイジャック対策、CSPとngCspディレクティブ、$sceによるテンプレートのエスケープについて</p>
<blockquote title="VanillaJS refactoring by cburgmer · Pull Request #739 · tastejs/todomvc" cite="https://github.com/tastejs/todomvc/pull/739">
<p class="jser-sitelink"><strong>VanillaJS refactoring by cburgmer · Pull Request #739 · tastejs/todomvc</strong><br/><a title="VanillaJS refactoring by cburgmer · Pull Request #739 · tastejs/todomvc" href="https://github.com/tastejs/todomvc/pull/739" target="_blank">https://github.com/tastejs/todomvc/pull/739</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">デバック</span> <span class="jser-tag">todo</span></p>
<p>TodoMVCのVanillaJSが大幅にリファクタリングされた。<br/>テストもちゃんと書かれてるので、どのようにリファクタリングしていったのかをコミット見ながら眺めると面白いかも。</p>
<div class="site-genre"><strong>スライド、動画関係</strong></div>
<blockquote title="ECMAScript 6: what’s next for JavaScript? // Speaker Deck" cite="https://speakerdeck.com/rauschma/ecmascript-6-whats-next-for-javascript">
<p class="jser-sitelink"><strong>ECMAScript 6: what’s next for JavaScript? // Speaker Deck</strong><br/><a title="ECMAScript 6: what’s next for JavaScript? // Speaker Deck" href="https://speakerdeck.com/rauschma/ecmascript-6-whats-next-for-javascript" target="_blank">https://speakerdeck.com/rauschma/ecmascript-6-whats-next-for-javascript</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">ECMAScript</span> <span class="jser-tag">スライド</span></p>
<p>ES6についてのスライド(Dr. Axel)<br/>今日現在のES6の機能についてまとまってる。2014年12月にEcmaへの提出が予定されてる<br/><a href="http://esdiscuss.org/topic/es6-timeline" target="_blank">http://esdiscuss.org/topic/es6-timeline</a></p>
<blockquote title="2013年のWebプラットフォーム - Google ドライブ" cite="https://docs.google.com/presentation/d/1msQeS1xY_oMCLQMwceB_xSFv58TtFHOT4t0amArs_jg/edit?pli=1#slide=id.p">
<p class="jser-sitelink"><strong>2013年のWebプラットフォーム - Google ドライブ</strong><br/><a title="2013年のWebプラットフォーム - Google ドライブ" href="https://docs.google.com/presentation/d/1msQeS1xY_oMCLQMwceB_xSFv58TtFHOT4t0amArs_jg/edit?pli=1#slide=id.p" target="_blank">https://docs.google.com/presentation/d/1msQeS1xY_oMCLQMwceB_xSFv58TtFHOT4t0amArs_jg/edit?pli=1#slide=id.p</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">WebPlatformAPI</span></p>
<p>Extensible Webについてのスライド.<br/>マクロな標準化とミクロな標準化.<br/>Web Components、Promises、Service Workers(オフラインキャッシュ)</p>
<blockquote title="真面目なアニメーション (html5j 2013, Web Animations)" cite="http://www.slideshare.net/brianskold/html5j-2013">
<p class="jser-sitelink"><strong>真面目なアニメーション (html5j 2013, Web Animations)</strong><br/><a title="真面目なアニメーション (html5j 2013, Web Animations)" href="http://www.slideshare.net/brianskold/html5j-2013" target="_blank">http://www.slideshare.net/brianskold/html5j-2013</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">web</span> <span class="jser-tag">animation</span> <span class="jser-tag">スライド</span></p>
<p>CSS Animations/SVG Animationsだと難しかった部分や複雑な部分等のバランスを取って、抽象化したアニメーションモデルを定義したWeb Animationsについてのスライド.<br/>動画等も入ってかなり分かりやすく解説されている。</p>
<ul><li><a title="web-animations/web-animations-js" href="https://github.com/web-animations/web-animations-js" target="_blank">web-animations/web-animations-js</a></li>
</ul><div class="site-genre"><strong>サイト、サービス、ソフトウェア関係</strong></div>
<blockquote title="AngularJS 日本語リファレンス | js STUDIO" cite="http://js.studio-kingdom.com/angularjs">
<p class="jser-sitelink"><strong>AngularJS 日本語リファレンス | js STUDIO</strong><br/><a title="AngularJS 日本語リファレンス | js STUDIO" href="http://js.studio-kingdom.com/angularjs" target="_blank">http://js.studio-kingdom.com/angularjs</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">AngularJS</span> <span class="jser-tag">リファレンス</span> <span class="jser-tag">翻訳</span></p>
<p>AngularJS日本語リファレンス</p>
<blockquote title="Node.app — Node.js for iOS" cite="http://nodeapp.org/">
<p class="jser-sitelink"><strong>Node.app — Node.js for iOS</strong><br/><a title="Node.app — Node.js for iOS" href="http://nodeapp.org/" target="_blank">http://nodeapp.org/</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">ios</span> <span class="jser-tag">node.js</span> <span class="jser-tag">JavaScript</span></p>
<p>JavaScriptCore.framework を使ってNode API互換の環境を使えるようにするのが目的のiOSアプリ</p>
<div class="site-genre"><strong>ツール、ライブラリ関係</strong></div>
<blockquote title="JSONファイルの管理をちょっとだけ楽にしてくれるgrunt-sync-versionを紹介するよ - Qiita [キータ]" cite="http://qiita.com/1000ch/items/1fdabd68ec9895c766d7">
<p class="jser-sitelink"><strong>JSONファイルの管理をちょっとだけ楽にしてくれるgrunt-sync-versionを紹介するよ - Qiita [キータ]</strong><br/><a title="JSONファイルの管理をちょっとだけ楽にしてくれるgrunt-sync-versionを紹介するよ - Qiita [キータ]" href="http://qiita.com/1000ch/items/1fdabd68ec9895c766d7" target="_blank">http://qiita.com/1000ch/items/1fdabd68ec9895c766d7</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JSON</span> <span class="jser-tag">Grunt</span></p>
<p>package.jsonとかbower.jsonのバージョン番号を一括でアップデートするGruntタスク</p>
<blockquote title="Hyperglot · A Language Experimentation Platform" cite="http://tmcnab.github.io/Hyperglot/">
<p class="jser-sitelink"><strong>Hyperglot · A Language Experimentation Platform</strong><br/><a title="Hyperglot · A Language Experimentation Platform" href="http://tmcnab.github.io/Hyperglot/" target="_blank">http://tmcnab.github.io/Hyperglot/</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">program</span></p>
<p>PEG.jsを使ったaltJS等の作成するnodewekit製エディタ.<br/>Esprimaを使ったAST表現へのデコードや入力に対するプレビュー等が出来るアプリ</p>
<blockquote title="NeilFraser/JS-Interpreter" cite="https://github.com/NeilFraser/JS-Interpreter">
<p class="jser-sitelink"><strong>NeilFraser/JS-Interpreter</strong><br/><a title="NeilFraser/JS-Interpreter" href="https://github.com/NeilFraser/JS-Interpreter" target="_blank">https://github.com/NeilFraser/JS-Interpreter</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">AST</span></p>
<p>JavaScriptで実装したJavaScriptインタープリタ.<br/>acornでJavaScriptをパースしたASTを解釈してる。<br/>ステップ実行やサンドボックスとしてJSの実行等ができる</p>
<blockquote title="BBC-News/Imager.js" cite="https://github.com/BBC-News/Imager.js">
<p class="jser-sitelink"><strong>BBC-News/Imager.js</strong><br/><a title="BBC-News/Imager.js" href="https://github.com/BBC-News/Imager.js" target="_blank">https://github.com/BBC-News/Imager.js</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">library</span> <span class="jser-tag">画像</span></p>
<p>srcsetのようなレスポンシブな画像を使うような仕組みを提供するライブラリ.<br/>プレースホルダーとなる要素を書いて、それに合わせた画像をlazy load出来るような仕組み</p>
<blockquote title="andismith/grunt-responsive-images" cite="https://github.com/andismith/grunt-responsive-images/">
<p class="jser-sitelink"><strong>andismith/grunt-responsive-images</strong><br/><a title="andismith/grunt-responsive-images" href="https://github.com/andismith/grunt-responsive-images/" target="_blank">https://github.com/andismith/grunt-responsive-images/</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">Grunt</span> <span class="jser-tag">画像</span></p>
<p>imagemagickを使って、指定したサイズの画像を指定したルールの名前で作成してくれるGruntタスク</p>
<div class="site-genre"><strong>書籍関係</strong></div>
<blockquote title="#buildfirst · bevacqua.io" cite="http://bevacqua.io/buildfirst">
<p class="jser-sitelink"><strong>#buildfirst · bevacqua.io</strong><br/><a title="#buildfirst · bevacqua.io" href="http://bevacqua.io/buildfirst" target="_blank">http://bevacqua.io/buildfirst</a></p>
</blockquote>
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">book</span></p>
<p>"JavaScript Application Design"<br/>ウェブアプリケーションを作るワークフローについての書籍.<br/>サンプルやスニペット等が公開されてる</p>
</div>
