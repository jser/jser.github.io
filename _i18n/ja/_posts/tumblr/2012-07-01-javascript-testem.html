---
layout: post
title: "インタラクティブなJavaScriptテストフレームワークTestem"
date: '2012-07-01T17:47:00+09:00'
tags:
- test
- node.js
permalink: /post/26266683374
---
<p>インタラクティブにテストを実行できるの目的として上げてるテスティングフレームワークの<a href="https://github.com/airportyh/testem" target="_blank">testem</a>がリリースされた。</p>
<p>機能としては<a href="http://code.google.com/p/js-test-driver/" target="_blank">JsTestDriver</a>や<a href="http://busterjs.org/" target="_blank">Buster.JS</a>のようにサーバをたちあげてブラウザでキャプチャURLにアクセスして実行させる仕組みや、テストの構文も既存の<a href="http://pivotal.github.com/jasmine/" target="_blank">Jasmine</a>(デフォルト)や<a href="http://docs.jquery.com/QUnit" target="_blank">QUnit</a>や<a href="http://visionmedia.github.com/mocha/" target="_blank">Mocha</a>と言ったものがアダプタ的に使えるようになっていて、ファイルを保存したら自動でテストを実行して結果をCLIに表示したり、<code>testem ci</code>を使うことでTAP形式で出力することもできる。</p>
<p>機能としては目新しい感じはしないけど、使い始めてテストを書き始めるまでの短さやテストを書いてすぐその結果が見えるところに作者の意図があるテストフレームワークなのかなと思いました。</p>
<p>実際にtestemを使うには、インストールしてtestemを実行してテストを保存するだけ。</p>
<pre>$ npm <span class="synStatement">install</span> testem <span class="synSpecial">-g</span>
$ testem
</pre>
<p>npmでインストールしてtestemを実行して、同じディレクトリに.jsファイルにテストを書けば保存する度に自動で実行されて結果が表示される。(.jsファイルは自動的に検出されるが、設定でJsTDやBusterJSのように細かな読み込み方法を書ける)</p>
<p><img src="http://media.tumblr.com/tumblr_m6h4hrwn0h1qz6g63.png"/></p>
<p>デフォルトのテストライブラリはJasmineのようだが、設定ファイルに書くことでQUnitやMocha等もアダプタで使用できるようになっている。<br/>テストの実行環境はPhantomJSがインストールされてる場合はデフォルトでPhantomJS使われて、JsTDやBusterJSのようにブラウザをキャプチャさせるURLにアクセスさせることで複数のブラウザでテストを実行されて表示される。(CLI上で矢印キーで結果表示の移動ができる)</p>
<p>細かな事は作者のスクリーンキャストやReadmeなどを見るといい。</p>
<ul><li><a href="http://tobyho.com/2012/06/24/testem-interactive-js-test-runner/" target="_blank">Testem: Interactive JS Test Runner</a></li>
<li><a href="https://github.com/airportyh/testem" target="_blank">airportyh/testem</a></li>
</ul><p><a href="https://github.com/airportyh/testem#roadmap" target="_blank">roadmap</a>には<a href="http://www.thecssninja.com/javascript/bunyip" target="_blank">Bunyip</a>のように<a href="http://www.browserstack.com/user/dashboard" target="_blank">BrowserStack</a>を利用してテストが実行出来るようにすることや、Travis CI との連携やBuster.JS の構文も使えるようにするなどについてが書かれていて、最近行われてきてたようなことを取り入れてる感じが見られる。</p>
<p>個々の機能は革新的では無いかもしれないけど、個人的にはテストを書いてみようと思ってそれを実行するまでに色々手順が必要だったりして面倒な感じなのが取っ払われていて、インストールしてテストを書いて保存してたら自動で実行されて結果が表示されるというのは、テストへの障壁が減って良い気がします。</p>
<p>直ぐにテストを書き始められるのでテストと対話して書いていける感じになっていて、テストフレームワークの目的がよく出てる気がするので、今後どうなっていくのか少し気になる感じです。</p>
