---
layout: post
title: '2014-02-24のJS: Gruntfileのメンテナンス、Promisesアンチパターン、ES6 Fiddle'
date: '2014-02-25T00:00:56+09:00'
tags:
- Grunt
- Promises
- ES6
permalink: /post/77704000553/2014-02-24-js-gruntfile-promises-es6
---
<p>JSer.info #163 - <a href="http://yosuke-furukawa.hatenablog.com/entry/2014/02/22/134852" title="Maintainable Gruntfile.js - from scratch" target="_blank">Maintainable Gruntfile.js - from scratch</a>という記事ではGruntの設定ファイルである<code>Gruntfile.js</code>の管理やタスクの実行速度の改善についてまとめられています。</p>

<p>最近は責務が大きすぎるGruntをどうにかする的な記事が増えてきた気がしますし、<a href="http://www.pintjs.com/" title="Pint" target="_blank">Pint</a>のようにGrunt自体をラップしてより効率的に管理/実行できるようにする試みや、<a href="https://github.com/joliss/broccoli" title="Broccoli" target="_blank">Broccoli</a>のように高速なビルドに主眼を置いた新しいビルドツール等も出てきています。</p>

<p>Broccoliはまだαのαな感じですが<a href="http://www.solitr.com/blog/2014/02/broccoli-first-release/" title="Broccoli: First Beta Release" target="_blank">Broccoli: First Beta Release</a>に書かれているファイルではなくTreeをベースにしたアーキテクチャ等は面白い感じです。</p>

<hr><p><a href="http://taoofcode.net/promise-anti-patterns/" title="Promise Anti-patterns" target="_blank">Promise Anti-patterns</a>という記事では、Promisesを使ってコード書いた時によくありそうなミスやアンチパターンについて書かれています。</p>

<p>最近書かれたES6のPromisesについての記事を<a href="http://jser.info/post/77696682011/es6-promises" title="あなたが読むべきJavaScript Promises | JSer.info" target="_blank">あなたが読むべきJavaScript Promises | JSer.info</a>でまとめて紹介してあるので、こちらも一緒に読むといいかと思います。</p>

<hr><p><a href="http://www.es6fiddle.net/" title="ES6 Fiddle" target="_blank">ES6 Fiddle</a>というサービスでは、<a href="http://jsfiddle.net/" title="Create a new fiddle - JSFiddle" target="_blank">JSFiddle</a>よりかなり簡易ですが、ECMAScript6の文法で書かれたコードを実行/共有することが出来ます。</p>

<p><a href="https://github.com/google/traceur-compiler" title="Traceur" target="_blank">Traceur</a>を使って変換されたものが実行されるため、ブラウザがまだサポートされてない場合でもある程度実行出来ます。(Promisesとかも<a href="https://github.com/google/traceur-compiler" title="Traceur" target="_blank">Traceur</a>でサポートされてるので実行出来ます)</p>

<p>なので、ES6 Fiddleというよりは<a href="https://github.com/google/traceur-compiler" title="Traceur" target="_blank">Traceur Fiddle</a>という感じですが、ES6のコードがどんな結果になるのかが見えて便利です。</p>

<hr><h3 class="site-genre">ヘッドライン</h3>

<blockquote cite="http://facebook.github.io/react/blog/2014/02/20/react-v0.9.html" title="React | React v0.9">
<p class="jser-sitelink"><strong>React | React v0.9</strong></p><footer><cite><a href="http://facebook.github.io/react/blog/2014/02/20/react-v0.9.html" title="React | React v0.9" target="_blank">facebook.github.io/react/blog/2014/02/20/react-v0.9.html</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">DOM</span><span class="jser-tag">JavaScript</span><span class="jser-tag">library</span><span class="jser-tag">ReleaseNote</span></p>

<p>React v0.9リリース</p>

<p>Test Utilitiesの追加、JSXのwhite spaceの扱いの変更</p>

<blockquote cite="https://medium.com/code-adventures/a0a1c2cfc2ac" title="Koa 0.5.0 — Code adventures — Medium">
<p class="jser-sitelink"><strong>Koa 0.5.0 — Code adventures — Medium</strong></p><footer><cite><a href="https://medium.com/code-adventures/a0a1c2cfc2ac" title="Koa 0.5.0 — Code adventures — Medium" target="_blank">medium.com/code-adventures/a0a1c2cfc2ac</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">node.js</span><span class="jser-tag">ReleaseNote</span></p>

<p>Koa 0.5.0リリース。</p>

<blockquote cite="http://blog.nodejs.org/2014/02/18/node-v0-10-26-stable/" title="Node v0.10.26 (Stable)">
<p class="jser-sitelink"><strong>Node v0.10.26 (Stable)</strong></p><footer><cite><a href="http://blog.nodejs.org/2014/02/18/node-v0-10-26-stable/" title="Node v0.10.26 (Stable)" target="_blank">blog.nodejs.org/2014/02/18/node-v0-10-26-stable/</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">node.js</span><span class="jser-tag">ReleaseNote</span></p>

<p>Node v0.10.26リリース。</p>

<h3 class="site-genre">アーティクル</h3>

<blockquote cite="http://yosuke-furukawa.hatenablog.com/entry/2014/02/22/134852" title="Maintainable Gruntfile.js - from scratch">
<p class="jser-sitelink"><strong>Maintainable Gruntfile.js - from scratch</strong></p><footer><cite><a href="http://yosuke-furukawa.hatenablog.com/entry/2014/02/22/134852" title="Maintainable Gruntfile.js - from scratch" target="_blank">yosuke-furukawa.hatenablog.com/entry/2014/02/22/134852</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">Grunt</span><span class="jser-tag">Tips</span></p>

<p>Gruntの設定ファイルのメンテナンスについての記事</p>

<p>load-grunt-configを使ったタスクのファイル分割、time-gruntを使った実行時間の計測、タスクにキャッシュ機構の追加や並列実行などを利用して実行時間の改善などについて</p>

<ul><li><a href="https://github.com/yosuke-furukawa/modern-grunt-sample" title="yosuke-furukawa/modern-grunt-sample" target="_blank">yosuke-furukawa/modern-grunt-sample</a></li>
</ul><blockquote cite="http://webdesignporto.com/why-use-strict-in-javascript-can-save-you-hours/" title='Why "use strict" in JavaScript can save you hours'>
<p class="jser-sitelink"><strong>Why &#8220;use strict&#8221; in JavaScript can save you hours</strong></p><footer><cite><a href="http://www.webdesignporto.com/why-use-strict-in-javascript-can-save-you-hours/" title='Why "use strict" in JavaScript can save you hours' target="_blank">webdesignporto.com/why-use-strict-in-javascript-can-save-you-hours/</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span><span class="jser-tag">Tips</span></p>

<p>strict modeにすることで、コーディングミスした時にエラー(構文エラーor実行時エラー)として検出しやすくなったりすることについて。</p>

<blockquote cite="http://tech.pro/tutorial/1889/a-modern-javascript-router-in-100-lines" title="A modern JavaScript router in 100 lines - Tech.Pro">
<p class="jser-sitelink"><strong>A modern JavaScript router in 100 lines - Tech.Pro</strong></p><footer><cite><a href="http://tech.pro/tutorial/1889/a-modern-javascript-router-in-100-lines" title="A modern JavaScript router in 100 lines - Tech.Pro" target="_blank">tech.pro/tutorial/1889/a-modern-javascript-router-in-100-lines</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span><span class="jser-tag">URL</span></p>

<p>JavaScriptでシンプルなルーティングライブラリを書いてみるチュートリアル</p>

<blockquote cite="http://tech.pro/tutorial/1834/working-with-es5-javascript-array-functions-in-modern-and-legacy-browsers" title="Working with ES5 JavaScript array functions in modern and legacy browsers - Tech.Pro">
<p class="jser-sitelink"><strong>Working with ES5 JavaScript array functions in modern and legacy browsers - Tech.Pro</strong></p><footer><cite><a href="http://tech.pro/tutorial/1834/working-with-es5-javascript-array-functions-in-modern-and-legacy-browsers" title="Working with ES5 JavaScript array functions in modern and legacy browsers - Tech.Pro" target="_blank">tech.pro/tutorial/1834/working-with-es5-javascript-array-functions-in-modern-and-legacy-browsers</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span></p>

<p>ES5で追加されたmapやeach等の配列の拡張メソッドについて。</p>

<p>使い方とpolyfillの実装について書かれている。</p>

<blockquote cite="http://flippinawesome.org/2014/02/17/introduction-to-the-component-javascript-package-manager/" title="Introduction to the Component JavaScript Package Manager | Flippin' Awesome">
<p class="jser-sitelink"><strong>Introduction to the Component JavaScript Package Manager | Flippin&#8217; Awesome</strong></p><footer><cite><a href="http://flippinawesome.org/2014/02/17/introduction-to-the-component-javascript-package-manager/" title="Introduction to the Component JavaScript Package Manager | Flippin' Awesome" target="_blank">flippinawesome.org/2014/02/17/introduction-to-the-component-javascript-package-manager/</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span><span class="jser-tag">Tools</span><span class="jser-tag">動画</span></p>

<p>JavaScriptパッケージ管理ツールの<a href="https://github.com/component/component" title="Component" target="_blank">Component</a>についてのチュートリアル。</p>

<blockquote cite="http://nicolashery.com/parse-data-files-using-nodejs-streams/" title="Parse data files using Node.js streams - Nicolas Hery">
<p class="jser-sitelink"><strong>Parse data files using Node.js streams - Nicolas Hery</strong></p><footer><cite><a href="http://nicolashery.com/parse-data-files-using-nodejs-streams/" title="Parse data files using Node.js streams - Nicolas Hery" target="_blank">nicolashery.com/parse-data-files-using-nodejs-streams/</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">node.js</span><span class="jser-tag">stream</span><span class="jser-tag">tutorial</span></p>

<p>node streamを使ってCSVをJSONに変換するTransform streamのチュートリアル。</p>

<blockquote cite="http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/" title="Stop Being Afraid Of Promises And Be Awesome Instead - XB Software">
<p class="jser-sitelink"><strong>Stop Being Afraid Of Promises And Be Awesome Instead - XB Software</strong></p><footer><cite><a href="http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/" title="Stop Being Afraid Of Promises And Be Awesome Instead - XB Software" target="_blank">xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">Promises</span><span class="jser-tag">JavaScript</span></p>

<p>Promisesを使った非同期処理のコード例とpromiseのライブラリの紹介。</p>

<blockquote cite="http://taoofcode.net/promise-anti-patterns/" title="Promise Anti-patterns">
<p class="jser-sitelink"><strong>Promise Anti-patterns</strong></p><footer><cite><a href="http://taoofcode.net/promise-anti-patterns/" title="Promise Anti-patterns" target="_blank">taoofcode.net/promise-anti-patterns/</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">Promises</span><span class="jser-tag">デザインパターン</span><span class="jser-tag">JavaScript</span></p>

<p>Promisesのアンチパターンについて。</p>

<p>ネストしたpromise、 例外を<code>catch</code>できないpromise、配列の中身に対してそれぞれ非同期処理するケース、分岐とpromise、過剰なエラーハンドリング、無駄なpromise</p>

<h3 class="site-genre">スライド、動画関係</h3>

<blockquote cite="http://uupaa.github.io/Task.js/slide/" title="Task.js">
<p class="jser-sitelink"><strong>Task.js</strong></p><footer><cite><a href="http://uupaa.github.io/Task.js/slide/#/" title="Task.js" target="_blank">uupaa.github.io/Task.js/slide/</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span><span class="jser-tag">library</span></p>

<p>カウントベースのフローコントロールライブラリ</p>

<p><a href="https://github.com/uupaa/Task.js" target="_blank">https://github.com/uupaa/Task.js</a> についてのスライド</p>

<ul><li><a href="http://uupaa.hatenablog.com/entry/2014/02/21/153344" target="_blank">Task.js は、非同期処理をスッキリ書ける(よく見かける)ライブラリである - latest log</a></li>
</ul><blockquote cite="http://vimeo.com/86821694" title="CSS Animation Events Explained! - All The Right Moves Screencast on Vimeo">
<p class="jser-sitelink"><strong>CSS Animation Events Explained! - All The Right Moves Screencast on Vimeo</strong></p><footer><cite><a href="http://vimeo.com/86821694" title="CSS Animation Events Explained! - All The Right Moves Screencast on Vimeo" target="_blank">vimeo.com/86821694</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">CSS</span><span class="jser-tag">動画</span></p>

<p>CSS animation eventについてのスクリーンキャスト</p>

<h3 class="site-genre">サイト、サービス</h3>

<blockquote cite="http://www.es6fiddle.net/" title="ES6 Fiddle">
<p class="jser-sitelink"><strong>ES6 Fiddle</strong></p><footer><cite><a href="http://www.es6fiddle.net/" title="ES6 Fiddle" target="_blank">www.es6fiddle.net/</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span><span class="jser-tag">ECMAScript</span><span class="jser-tag">Tools</span></p>

<p>ECMAScript6のコードを実行出来るJSFiddle的なサービス。</p>

<p>Traceurを使ったコンパイル、JSHintを使ったLint等が行われるのでブラウザが直接サポートされて無くても実行が出来る</p>

<h3 class="site-genre">ソフトウェア、ツール、ライブラリ関係</h3>

<blockquote cite="http://www.pintjs.com/" title="Pint">
<p class="jser-sitelink"><strong>Pint</strong></p><footer><cite><a href="http://www.pintjs.com/" title="Pint" target="_blank">www.pintjs.com/</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">Grunt</span><span class="jser-tag">Tools</span></p>

<p>Gruntラッパーなコマンドラインツール。</p>

<p>タスクの設定ファイル分割、タスクの依存関係を元に可能ならタスクの並列実行を行えるようにする。</p>

<ul><li><a href="https://www.codefellows.org/blogs/introducing-pint-the-new-build-system-for-grunt-js" target="_blank">Introducing Pint, the new build system for Grunt.js</a></li>
</ul><blockquote cite="https://github.com/sindresorhus/pageres" title="sindresorhus/pageres">
<p class="jser-sitelink"><strong>sindresorhus/pageres</strong></p><footer><cite><a href="https://github.com/sindresorhus/pageres" title="sindresorhus/pageres" target="_blank">github.com/sindresorhus/pageres</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">browser</span><span class="jser-tag">画像</span><span class="jser-tag">Tools</span></p>

<p>PhantomJSを使った指定サイズのスクリーンショットをまとめて取るツール</p>

<p><a href="https://github.com/juliangruber/review" target="_blank">https://github.com/juliangruber/review</a> と似た感じ</p>

<blockquote cite="https://github.com/joliss/broccoli" title="joliss/broccoli">
<p class="jser-sitelink"><strong>joliss/broccoli</strong></p><footer><cite><a href="https://github.com/joliss/broccoli" title="joliss/broccoli" target="_blank">github.com/joliss/broccoli</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span><span class="jser-tag">Tools</span></p>

<p>高速なインクリメンタルビルドを目的としてGrunt等のようなビルドツール。</p>

<p>ビルド対象をファイルではなく <code>tree</code> として扱う、pluginもtreeとして扱う。キャッシュの仕組みなども入っている。</p>

<ul><li><a href="http://www.solitr.com/blog/2014/02/broccoli-first-release/" target="_blank">Broccoli: First Beta Release</a></li>
</ul><blockquote cite="https://github.com/angular/di.js" title="angular/di.js">
<p class="jser-sitelink"><strong>angular/di.js</strong></p><footer><cite><a href="https://github.com/angular/di.js" title="angular/di.js" target="_blank">github.com/angular/di.js</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span><span class="jser-tag">testing</span><span class="jser-tag">library</span></p>

<p>AngularのDIライブラリ。</p>

<p>ライブラリのコード自体もES6で書かれていてTraceurで変換してる。</p>

<ul><li><a href="https://dl.dropboxusercontent.com/u/36607830/talks/ng-conf-di-v2.pdf" target="_blank">ng-conf-di-v2.pdf</a></li>
</ul><blockquote cite="https://github.com/nicjansma/usertiming.js" title="nicjansma/usertiming.js">
<p class="jser-sitelink"><strong>nicjansma/usertiming.js</strong></p><footer><cite><a href="https://github.com/nicjansma/usertiming.js" title="nicjansma/usertiming.js" target="_blank">github.com/nicjansma/usertiming.js</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span><span class="jser-tag">performance</span><span class="jser-tag">library</span></p>

<p>UserTiming APIのpolyfillライブラリ</p>

<blockquote cite="https://github.com/CyberAgent/boombox.js" title="CyberAgent/boombox.js">
<p class="jser-sitelink"><strong>CyberAgent/boombox.js</strong></p><footer><cite><a href="https://github.com/CyberAgent/boombox.js" title="CyberAgent/boombox.js" target="_blank">github.com/CyberAgent/boombox.js</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">HTML</span><span class="jser-tag">audio</span><span class="jser-tag">API</span><span class="jser-tag">library</span></p>

<p>HTMLVideo, HTMLAudio, WebAudioのAPIを同じインターフェースで扱えるライブラリ</p>

<blockquote cite="https://github.com/saadtazi/firefox-profile-js" title="saadtazi/firefox-profile-js · GitHub">
<p class="jser-sitelink"><strong>saadtazi/firefox-profile-js · GitHub</strong></p><footer><cite><a href="https://github.com/saadtazi/firefox-profile-js" title="saadtazi/firefox-profile-js · GitHub" target="_blank">github.com/saadtazi/firefox-profile-js</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">firefox</span><span class="jser-tag">webdriver</span><span class="jser-tag">node.js</span></p>

<p>Firefoxのプロファイルを作ったり、既存のプロファイルを利用したり、アドオンを追加等プロファイルを扱えるNodeモジュール。WebDriverと合わせて使う感じ</p>

<h3 class="site-genre">書籍関係</h3>

<blockquote cite="http://www.cresc.co.jp/tech/java/Google_Dart/DartLanguageGuide.pdf" title="DartLanguageGuide.pdf">
<p class="jser-sitelink"><strong>DartLanguageGuide.pdf</strong></p><footer><cite><a href="http://www.cresc.co.jp/tech/java/Google_Dart/DartLanguageGuide.pdf" title="DartLanguageGuide.pdf" target="_blank">www.cresc.co.jp/tech/java/Google_Dart/DartLanguageGuide.pdf</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">dart</span><span class="jser-tag">book</span></p>

<p>Dart言語について詳しく書かれたマニュアル。</p>

<p>基本的な文法から幅広く解説されてる</p>

<blockquote cite="http://www.packtpub.com/angularjs-design-patterns/book" title="AngularJS Design Patterns | Packt Publishing">
<p class="jser-sitelink"><strong>AngularJS Design Patterns | Packt Publishing</strong></p><footer><cite><a href="http://www.packtpub.com/angularjs-design-patterns/book" title="AngularJS Design Patterns | Packt Publishing" target="_blank">www.packtpub.com/angularjs-design-patterns/book</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">AngularJS</span><span class="jser-tag">book</span><span class="jser-tag">デザインパターン</span></p>

<p>AngularJSでのデザインパターンについての書籍</p>

<blockquote cite="http://shop.oreilly.com/product/0636920030690.do" title="Building Polyfills - O'Reilly Media">
<p class="jser-sitelink"><strong>Building Polyfills - O&#8217;Reilly Media</strong></p><footer><cite><a href="http://shop.oreilly.com/product/0636920030690.do" title="Building Polyfills - O'Reilly Media" target="_blank">shop.oreilly.com/product/0636920030690.do</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span><span class="jser-tag">book</span></p>

<p>Web Platform APIsのPolyfillについての書籍。</p>

<ul><li><a href="http://polyfillsbook.com/" target="_blank">Building Polyfills by Brandon Satrom</a></li>
</ul><blockquote cite="http://www.amazon.co.jp/o/ASIN/4877833218/amazon0abac-22/ref=nosim" title="Amazon: HTML5+JavaScriptによる画像・動画像処理入門 [単行本]: 松田 晃一">
<p class="jser-sitelink"><strong>Amazon: HTML5+JavaScriptによる画像・動画像処理入門 [単行本]: 松田 晃一</strong></p><footer><cite><a href="http://www.amazon.co.jp/o/ASIN/4877833218/amazon0abac-22/ref=nosim" title="Amazon: HTML5+JavaScriptによる画像・動画像処理入門 [単行本]: 松田 晃一" target="_blank">www.amazon.co.jp/o/ASIN/4877833218/amazon0abac-22/ref=nosim</a></cite></footer></blockquote>

<p class="jser-tags jser-tag-icon"><span class="jser-tag">canvas</span><span class="jser-tag">動画</span><span class="jser-tag">JavaScript</span><span class="jser-tag">book</span></p>

<p>2014年3月10日発売</p>

<p>JavaScriptを使った画像/動画処理について初心者向けに解説した書籍。</p>

<p>動画の処理をベースに書かれているとの事</p>

<ul><li><a href="http://www.cutt.co.jp/book/978-4-87783-321-3.html" target="_blank">CUTT System:HTML5+JavaScriptによる画像・動画像処理入門</a></li>
</ul>
