---
layout: post
title: 2011-01-18のJS:CommonJS, Firefox4, モダンJSのベストプラクティス
date: '2011-01-18T20:53:04+09:00'
tags:
- JavaScript
- node.js
- CommonJS
- jQuery
permalink: /post/2810111581
---
<p>少しペースが早いですが、2回目の紹介記事です。<br/>最近はCommonJS,modulesというワードが多く見かける気がします。</p>
<blockquote>
<p class="jser-sitelink"><strong>「第 0 回 HTML5 プログラミング&amp;クリエイティブ・コンテスト」のお知らせ - Google Japan Developer Relations Blog</strong><br/><a title="「第 0 回 HTML5 プログラミング&amp;クリエイティブ・コンテスト」のお知らせ - Google Japan Developer Relations Blog" href="http://googledevjp.blogspot.com/2011/01/0-html5.html" target="_blank">http://googledevjp.blogspot.com/2011/01/0-html5.html</a></p>
</blockquote>
<p>公募期間: 2011 年 1 月 12 日〜 2011 年 2 月 11 日<br/> HTML5を使った作品コンテストが開催されています。プログラミング部門とクリエイター部門に分かれて行うようです。</p>
<blockquote>
<p class="jser-sitelink"><strong>body要素のid属性またはclass属性をJavaScriptのディスパッチャーに使う - あと味</strong><br/><a title="body要素のid属性またはclass属性をJavaScriptのディスパッチャーに使う - あと味" href="http://d.hatena.ne.jp/jdg/20110118/1295310812" target="_blank">http://d.hatena.ne.jp/jdg/20110118/1295310812</a></p>
</blockquote>
<p>jsファイルを一つにまとめたときに実行スクリプトを振り分けするために、bodyのid属性,class属性を元に判断するディスパッチャー関数。</p>
<blockquote>
<p class="jser-sitelink"><strong>NetAgent Official Blog&#160;: 難読化JavaScriptで利用可能なテクニック</strong><br/><a title="NetAgent Official Blog : 難読化JavaScriptで利用可能なテクニック" href="http://www.netagent-blog.jp/archives/51739962.html" target="_blank">http://www.netagent-blog.jp/archives/51739962.html</a></p>
</blockquote>
<p>記号プログラミングと難読化エンコーダーの合わせ技でよい難読化を行う手法についての解説。<br/> eval 関数を使うところを、Firefox 独自実装の crypto.generateCRMFRequest メソッドを利用。<br/> evalについては<a title="Perfection kills » Global eval. What are the options?" href="http://perfectionkills.com/global-eval-what-are-the-options/" target="_blank">Perfection kills&#160;» Global eval. What are the options?</a>がとても詳しい</p>
<blockquote>
<p class="jser-sitelink"><strong>Ecmazing JavaScript Blogs</strong><br/><a title="Ecmazing JavaScript Blogs" href="http://www.ecmazing.com/blogs/" target="_blank">http://www.ecmazing.com/blogs/</a></p>
</blockquote>
<p>JavaScript(ECMAScript)で著名な方のブログを集めたサイト。<br/> サイドバーから選択してその場で表示できるので、連続して見ていくのに便利なビューアー<br/><a title="海外のJavaScript情報を見つけよう | Web scratch" href="http://efcl.info/2011/0116/res2185/" target="_blank">海外のJavaScript情報を見つけよう | Web scratch</a>と併せて</p>
<blockquote>
<p class="jser-sitelink"><strong>ruidlopes/scopeleaks - GitHub</strong><br/><a title="ruidlopes/scopeleaks - GitHub" href="https://github.com/ruidlopes/scopeleaks" target="_blank">https://github.com/ruidlopes/scopeleaks</a></p>
</blockquote>
<p>グローバル名前空間に変数や関数が漏れていないかをスナップショットと比較して検出するライブラリ。<br/> Browser、CommonJS 、JavaScriptCoreで動作する</p>
<blockquote>
<p class="jser-sitelink"><strong>打造最出色的模块加载框架：SeaJS Module Loader v0.3.0 预览版 - 岁月如歌</strong><br/><a title="打造最出色的模块加载框架：SeaJS Module Loader v0.3.0 预览版 - 岁月如歌" href="http://lifesinger.org/blog/2011/01/seajs-v0-3-0pre/" target="_blank">http://lifesinger.org/blog/2011/01/seajs-v0-3-0pre/</a></p>
</blockquote>
<p>こちらについては別途記事にしました<br/><a title="CommonJSに基づいたモジュール管理ローダーSeaJS | JSer.info" href="http://jser.info/post/2807412128/commonjs-seajs" target="_blank">CommonJSに基づいたモジュール管理ローダーSeaJS | JSer.info</a></p>
<blockquote>
<p class="jser-sitelink"><strong>John Resig on Advanced Javascript to Improve your Web App | Think Vitamin</strong><br/><a title="John Resig on Advanced Javascript to Improve your Web App | Think Vitamin" href="http://thinkvitamin.com/code/john-resig-on-advanced-javascript-to-improve-your-web-app/" target="_blank">http://thinkvitamin.com/code/john-resig-on-advanced-javascript-to-improve-your-web-app/</a></p>
</blockquote>
<p>Future of Web Apps Miami conferenceでのjQuery作者であるJohn Resigの講演動画と内容の書き起こし。</p>
<blockquote>
<p class="jser-sitelink"><strong>memoize 实现代码中的小陷阱 - 岁月如歌</strong><br/><a title="memoize 实现代码中的小陷阱 - 岁月如歌" href="http://lifesinger.org/blog/2011/01/a-trap-of-memoize-code/" target="_blank">http://lifesinger.org/blog/2011/01/a-trap-of-memoize-code/</a></p>
</blockquote>
<p>underscore.jsのmemorizeメソッドではtoStringやhasOwnPropertyいったものをキーとして渡した際に動作がおかしくなるというバグについての解説。(既にバグ提出はされているそうです)<br/> 一般にstrをキーとして受け取る関数でありがちなパターンとなってそうです。</p>
<blockquote>
<p class="jser-sitelink"><strong>jQuery 1.5の新機能: jQueryのサブクラスが作れるようになる | へびにっき</strong><br/><a title="jQuery 1.5の新機能: jQueryのサブクラスが作れるようになる | へびにっき" href="http://wp.serpere.info/archives/2050" target="_blank">http://wp.serpere.info/archives/2050</a></p>
</blockquote>
<p>jQuery 1.5 beta1で追加された<br/> jQuery.subclass()の解説</p>
<blockquote>
<p class="jser-sitelink"><strong>RightJS: What’s New In RightJS 2.2</strong><br/><a title="RightJS: Whats New In RightJS 2.2" href="http://rightjs.org/tutorials/what-new-in-rjs22" target="_blank">http://rightjs.org/tutorials/what-new-in-rjs22</a></p>
</blockquote>
<p>JavaScriptフレームワークであるRightJSの2.2がリリースされました。<br/> * Native CSS Transitions Support In Fx<br/> * Fx.Attr Class<br/> * Better UJS<br/> * Mouseenter/Mouseleave Handlers<br/> * DOM-Shortcuts For Strings<br/> * Class And Wrapper Merge<br/> * Supercalls On Modules<br/> * IE8 Kicked Out In the Olds Module<br/> * Full Stack CSS3 Support<br/> * Object.merge With Deep Merge<br/> * Element#index method<br/> * Raw DOM Search<br/> * IE Native UID<br/> * Deprecations Removed<br/> * Optimizations And Cleanups</p>
<blockquote>
<p class="jser-sitelink"><strong>Dmitry Baranovskiy’s Web Log</strong><br/><a title="Dmitry Baranovskiys Web Log" href="http://dmitry.baranovskiy.com/post/typeof-and-friends" target="_blank">http://dmitry.baranovskiy.com/post/typeof-and-friends</a></p>
</blockquote>
<p>入力のtypeを固定してtypeof演算子で比較することは本当にいいのか?<br/> また==はよくないと言われているが、常に===を使うことが良いことなのかについて。</p>
<blockquote>
<p class="jser-sitelink"><strong>Web 2.0 Development and Business Lessons: Why You Need to Learn JavaScript</strong><br/><a title="Web 2.0 Development and Business Lessons: Why You Need to Learn JavaScript" href="http://www.w2lessons.com/2011/01/why-you-need-to-learn-javascript.html" target="_blank">http://www.w2lessons.com/2011/01/why-you-need-to-learn-javascript.html</a></p>
</blockquote>
<p>なぜ今JavaScriptを学ぶ必要があるか?という話。<br/> 今はクライアントでも複雑なUIを作成することができ、サーバサイドNode.jsのようなモノがある。<br/> デスクトップは&#8221;the  cloud&#8221;へシフトしてるようにも見える。その中でJSアプリケーションの負う部分は大きい。また巨大化するソースにおいてJavaScriptフレー ムは活用することは大事だ(文中ではDojo toolkitを出している、jQueryでない理由も書いてある)<br/> またフレームワークを扱うためにはJavaScriptの基本原理をまず学ぶべきである。<br/><q>JS is no longer an option for true programmers, it&#8217;s a requirement&#8230;and it&#8217;s not the nightmare you think it is. </q><br/> といった感じの内容です。</p>
<blockquote>
<p class="jser-sitelink"><strong>これでできる！ クロスブラウザJavaScript入門：第22回　JavaScriptによるUIの実装：ドラッグ｜gihyo.jp … 技術評論社</strong><br/><a title="これでできる！ クロスブラウザJavaScript入門：第22回　JavaScriptによるUIの実装：ドラッグ｜gihyo.jp &amp; 技術評論社" href="http://gihyo.jp/dev/serial/01/crossbrowser-javascript/0022" target="_blank">http://gihyo.jp/dev/serial/01/crossbrowser-javascript/0022</a></p>
</blockquote>
<p>汎用的なドラッグの書き方,<br/> UIとしてドラッグの実装方法</p>
<blockquote>
<p class="jser-sitelink"><strong>DailyJS: Arbor, Mug, I, Ristretto</strong><br/><a title="DailyJS: Arbor, Mug, I, Ristretto" href="http://dailyjs.com/2011/01/14/arbor-mug-i-ristretto/" target="_blank">http://dailyjs.com/2011/01/14/arbor-mug-i-ristretto/</a></p>
</blockquote>
<p>JVM向けのJavaScriptコンパイラーであるMugの特徴を述べています。<br/> CommonJS modulesを採用指定事やRhinoに比べて高速に動作するのが特徴</p>
<blockquote>
<p class="jser-sitelink"><strong>The CSS Corner: CSS3 Media Queries - IEBlog - Site Home - MSDN Blogs</strong><br/><a title="The CSS Corner: CSS3 Media Queries - IEBlog - Site Home - MSDN Blogs" href="http://blogs.msdn.com/b/ie/archive/2011/01/12/the-css-corner-css3-media-queries.aspx" target="_blank">http://blogs.msdn.com/b/ie/archive/2011/01/12/the-css-corner-css3-media-queries.aspx</a></p>
</blockquote>
<p>IE9でのMedia Queriesサポート状況が公開されました。</p>
<blockquote>
<p class="jser-sitelink"><strong>Firefox 4 Beta 9 – 素晴らしい機能を満載して登場 «&#160;Mozilla Developer Street (modest)</strong><br/><a title="Firefox 4 Beta 9  素晴らしい機能を満載して登場 « Mozilla Developer Street (modest)" href="https://dev.mozilla.jp/hacksmozillaorg/firefox-4-beta-9-a-huge-pile-of-awesome/" target="_blank">https://dev.mozilla.jp/hacksmozillaorg/firefox-4-beta-9-a-huge-pile-of-awesome/</a></p>
</blockquote>
<p>Firefox4での変化を網羅的に紹介。<br/> 今までもっとも激しいアップデートになっている。</p>
<p><strong>node.js関係</strong></p>
<blockquote>
<p class="jser-sitelink"><strong>NEVERSAW.US | Not Your Father&#8217;s Javascript</strong><br/><a title="NEVERSAW.US | Not Your Father's Javascript" href="http://neversaw.us/2011/1/16/not-your-fathers-javascript/" target="_blank">http://neversaw.us/2011/1/16/not-your-fathers-javascript/</a></p>
</blockquote>
<p>最近のエンジン向け(主にNode.jsを対象)にJavaScriptのベストプラクティスを書いている。<br/> -変数宣言はSingle var、変数の命名のパターン<br/> -パッケージのディレクトリやファイル名はCommonJSのルールに習う<br/> -列挙のパターンとしてforEach,mapを使ってシンプルに書ける<br/> - Object.keysとforEachとbindを併せてオブジェクトのコピーを作成。(IE6,7はObject.keysがないので定義方法も)<br/> -Function.prototype.bindの使い方、いろいろな使い方<br/> 古いものも多くあるため新しいものは見つけるのが難しいですがそれを乗り越えた先に見つかるものがある。</p>
<blockquote>
<p class="jser-sitelink"><strong>unicodefreak/jbnode - GitHub</strong><br/><a title="unicodefreak/jbnode - GitHub" href="https://github.com/unicodefreak/jbnode" target="_blank">https://github.com/unicodefreak/jbnode</a></p>
</blockquote>
<p>node.jsからJavaを呼ぶプラグイン</p>
<p><strong>書籍関係</strong></p>
<blockquote>
<p class="jser-sitelink"><strong>Jquery How To Ebook - ITFunda.Com</strong><br/><a title="Jquery How To Ebook - ITFunda.Com" href="http://www.itfunda.com/jquery-how-tos-ebook/Show/45" target="_blank">http://www.itfunda.com/jquery-how-tos-ebook/Show/45</a></p>
</blockquote>
<p>jQueryのHow To電子書籍。<br/> 電子書籍、ソースコード、チュートリアル動画と分かれた販売形態を取っている($1.09～)</p>
