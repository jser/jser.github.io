---
title: "2022-05-26のJS: "
author: "azu"
layout: post
date : 2022-05-26T13:31:16.795Z
category: JSer
tags:
- TypeScript
- flowtype
- React
- Vue
- webworker

---

JSer.info #594

----

<h1 class="site-genre">ヘッドライン</h1>

----

## Release v5.0.0 · lerna/lerna
[github.com/lerna/lerna/releases/tag/v5.0.0](https://github.com/lerna/lerna/releases/tag/v5.0.0 "Release v5.0.0 · lerna/lerna")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">monorepo</span> <span class="jser-tag">ReleaseNote</span></p>

lerna v5.0.0リリース。
Nx社にメンテナンスが移行してからの初のリリース。
Node.js 12以下のサポート終了、auditの問題が出ていたパッケージのアップデートなど。


----

## Announcing TypeScript 4.7 - TypeScript
[devblogs.microsoft.com/typescript/announcing-typescript-4-7/](https://devblogs.microsoft.com/typescript/announcing-typescript-4-7/ "Announcing TypeScript 4.7 - TypeScript")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">TypeScript</span> <span class="jser-tag">ReleaseNote</span></p>

TypeScript 4.7リリース。
Node.jsのECMAScript Moduleをサポート、`.mts`/`.cts`のサポート。
`moduleDetection`オプションの追加。 Compuatedプロパティに対するコントロールフロー解析の改善、オブジェクトにおける関数の型推論の改善。
Genericsの型を指定したaliasを定義できる Instantiation Expressionsをサポート、inferに対するextendsでの推論条件の追加をサポート。
型が共変(in)/反変(out)/不変(in out)なのかを指定できるアノテーションを追加、モジュール解決時の探索方法をカスタマイズする`moduleSuffixes`オプションの追加。
`import type`/`import()`/Reference Commentでresolution-modeを指定できるようになるなど

- [TypeScript 4.7 と Native Node.js ESM | by Yosuke Kurami | May, 2022 | Medium](https://quramy.medium.com/typescript-4-7-%E3%81%A8-native-node-js-esm-189753a19ba8 "TypeScript 4.7 と Native Node.js ESM | by Yosuke Kurami | May, 2022 | Medium")

----
<h1 class="site-genre">アーティクル</h1>

----

## Migrating millions of lines of code to TypeScript
[stripe.com/blog/migrating-to-typescript](https://stripe.com/blog/migrating-to-typescript "Migrating millions of lines of code to TypeScript")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">flowtype</span> <span class="jser-tag">TypeScript</span> <span class="jser-tag">article</span></p>

AirtableのcodemodをベースにFlowTypeからTypeScriptへの切り替えをおこなった話。
マイグレーションスクリプト、Lintやテストの下準備などを行いコードロックした1日でコードベースをまとめて移行したという話。

- [The continual evolution of Airtable’s codebase: Migrating a million lines of code to TypeScript | by Caleb Meredith | The Airtable Engineering Blog | Medium](https://medium.com/airtable-eng/the-continual-evolution-of-airtables-codebase-migrating-a-million-lines-of-code-to-typescript-612c008baf5c "The continual evolution of Airtable’s codebase: Migrating a million lines of code to TypeScript | by Caleb Meredith | The Airtable Engineering Blog | Medium")

----
<h1 class="site-genre">ソフトウェア、ツール、ライブラリ関係</h1>

----

## Shopify/remote-ui
[github.com/Shopify/remote-ui](https://github.com/Shopify/remote-ui "Shopify/remote-ui")
<p class="jser-tags jser-tag-icon"><span class="jser-tag">JavaScript</span> <span class="jser-tag">React</span> <span class="jser-tag">Vue</span> <span class="jser-tag">webworker</span> <span class="jser-tag">security</span> <span class="jser-tag">library</span></p>

UIの定義をWeb WorkerなどのUIスレッド以外で行い、メッセージパッシングして受け取ったオブジェクトからレンダリングすることでSandboxに利用できるツールキット。
DOMライクなAPIやReact/Vue向けのAPIが用意されていて、ユーザーにUIツリーの定義を書いてもらい、それをレンダリングするホスト環境を別途実装できる。
ShopifyやStripe Appsで利用されている。

- [Remote Rendering: Shopify’s Take on Extensible UI — Development (2022)](https://shopify.engineering/remote-rendering-ui-extensibility "Remote Rendering: Shopify’s Take on Extensible UI — Development (2022)")

----
